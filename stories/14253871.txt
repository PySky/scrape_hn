Apple sold fewer iPhones than a year ago in the first three months of 2017, the company said in its latest results.

The California firm, which is due to release a new phone later this year, said it sold 50.8 million iPhones in the period, down 1% year-on-year.

Apple boss Tim Cook blamed a "pause" as customers wait for the next iPhone.

Shares in the firm fell nearly 2% in after-hours trading after earlier hitting a record high on expectations of better results.

Apple reported a 4.6% rise in revenue across the whole company to $52.9bn (Â£41bn), slightly below analysts' forecasts.

The dip in iPhone sales was offset by services, including Apple Pay, iCloud and the App store, which recorded an 18% increase in sales to $7bn.

Mr Cook also pointed to growth in sales of Apple Watch, as well as its AirPods and Beats earphones.

Despite falling unit sales, revenue from iPhones still climbed 1% to $33.2bn due to "robust" sales of its bigger, more expensive iPhone 7 Plus.

This is always the least impressive time of year for Apple's earnings, coming as it does after the Christmas period.

But worse-than-expected iPhone sales had investors slightly unhappy after anticipation of strong earnings sent shares to record highs earlier on Tuesday.

Tim Cook told investors he was also pleased with the continued growth of its Services division - that's things like Apple Music, Apple TV, iTunes and so on - but the health of Apple is only realistically measured with the success of that all-conquering smartphone.

Which is why the rest of the year will be exciting to watch.

With the iPhone's 10th anniversary upon us, expectations are high for the next device.

Anything short of a major improvement would be troubling for investors who are banking on the next iPhone being a blockbuster, not an incremental upgrade.

Analysts at GlobalData Retail noted that Apple's revenue from iPhones was $7bn less than the same period two years ago.

"We highlight these facts not to be unduly harsh to Apple, but to indicate that the company has only partially emerged from the slump that hit it over the last fiscal year," Neil Saunders, managing director of GlobalData Retail, wrote in a note.

"In our view, the company's mature product line up and an absence of any significant new devices mean it has struggled to regain all of the lost ground," he added.

China, which was partly to blame for the slowdown last year, was again difficult for Apple. Revenue from China dropped 14%, although Mr Cook partly blamed currency fluctuations for the fall.

Tim Coulling, senior analyst at Canalys, said the Chinese smartphone market was highly competitive, with cheaper products that matched Apple in terms of specification.

He said it was "difficult to come up with something truly revolutionary", but he expected their new device to have a bigger screen.

Apple said quarterly profits were $11bn worldwide, up 4.9% from the same period in 2016.

The firm also announced it would return an extra $50bn to shareholders.

Apple's cash holdings have risen to a record $256.8bn and the company has come under increasing pressure to disclose its plans for the money.|||

Boss Tim Cook says customers have "paused" as the firm reports lower iPhone sales than a year ago.