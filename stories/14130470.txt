Apple Chief Executive Tim Cook threatened to kick Uber out of its app store after it discovered that the ride-hailing company was intentionally violating its privacy rules.

Losing access to millions of iPhone users through Apple’s app store had the potential to destroy Uber’s business, according to the New York Times, which detailed the confrontation between Cook and Uber Chief Executive Travis Kalanick.

Uber had been secretly identifying and tagging iPhones even after the app had been deleted, the New York Times reported.

Uber denied the tracking allegations in a statement to the Los Angeles Times.

“We absolutely do not track individual users or their location if they’ve deleted the app,” Uber said. “As the New York Times story notes toward the very end, this is a typical way to prevent fraudsters from loading Uber onto a stolen phone, putting in a stolen credit card, taking an expensive ride and then wiping the phone — over and over again. Similar techniques are also used for detecting and blocking suspicious logins to protect our users' accounts. Being able to recognize known bad actors when they try to get back onto our network is an important security measure for both Uber and our users.”

The previously unreported encounter with Cook was part of a profile of Kalanick, who has been struggling the past few months to quell concerns about his leadership.

A new report says Uber used a secret software program dubbed Hell to track Lyft drivers to see if they were driving for both ride-hailing services — information that could be used to stifle competition.

The tool allowed Uber to monitor its competitor’s rates and steer additional fares toward drivers who were using both platforms, which could have influenced drivers to commit to Uber alone, according to a story in the technology trade publication the Information.

Only a small group of Uber employees, including Kalanick, knew about the program, according to the Information, which cited an anonymous source it said wasn't authorized to speak publicly.

The program was discontinued in early 2016, according to the report.

A representative for Uber did not respond to messages for comment Thursday. Lyft said in a statement to the publication that “if true, the allegations are very concerning.”

This has been a tumultuous year for Uber. In addition to the allegations of the Hell program, the San Francisco company’s troubles have included executive departures, backlash over Kalanick’s role as an advisor to President Trump, sexual harassment allegations, a video showing Kalanick lashing out at a driver, a lawsuit by Google spinoff Waymo, a potential fine from state authorities and the revelation of a secret program that mined user data in an effort to thwart regulators.

Read more: Uber's self-inflicted controversies come at a price: public loyalty »

California’s ride-hailing regulator is proposing a $1.1-million fine against Uber for allegedly failing to investigate or promptly suspend drivers accused in complaints of driving while drunk or drugged.

The California Public Utilities Commission said in a legal filing released Wednesday that Uber hadn’t taken appropriate action in 151 cases from August 2014 to August 2015, in violation of the state’s zero-tolerance regulations against intoxicated drivers. The agency also alleged that the company’s DUI policies are too lax and do not comply with state rules.

Uber’s policy, according to the agency, is to deactivate a driver who is the subject of three unconfirmed zero-tolerance complaints. The regulator said in its filing that the policy is too lenient and that the company doesn’t even adhere to it. In at least 25 cases, the agency alleges, Uber failed to suspend or investigate a driver after three or more complaints.

Read more: Uber could face $1.1-million California fine for failing to investigate drivers accused of being intoxicated »

Google spinoff Waymo sued Uber in February, alleging theft of trade secrets. That’s a big deal, since Uber has pegged its future to self-driving vehicles.

The Waymo suit alleges that Levandowski — the former Waymo employee who now heads Uber’s self-driving car division — downloaded more than 14,000 highly confidential and proprietary files shortly before his resignation in January 2016. He went on to found self-driving truck start-up Otto, which was acquired by Uber in August for $680 million. Levandowski now heads Uber’s self-driving car division.

Waymo alleges Otto is using its proprietary technology. In addition to punitive damages, Waymo sought a preliminary injunction against Uber to stop the company from continuing development on self-driving cars.

Uber told a federal judge in early April that it didn’t use stolen trade secrets for its driverless car project, and that therefore the court shouldn’t force it to stop that work.

Read more: Uber says it didn't use secrets smuggled from Waymo »

In a bid to show that it is serious about transparency and cultural turnaround, ride-hailing giant Uber released data March 28 on diversity in its workforce.

The numbers show that Uber, like other technology companies, has struggled to attract women, Latinos and African Americans to its workforce. Nearly two-thirds of Uber’s global workforce is male, and more than three-quarters of leadership roles at the company are held by men.

The company didn’t release data about the racial composition of its global workforce, but it said that in the U.S., black and Latino workers comprise just 15% of employees. (The data do not include Uber drivers, who are classified as independent contractors.)|||

