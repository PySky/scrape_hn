The campaign of French presidential candidate Emmanuel Macron says it has been the target of a "massive hacking attack" after a trove of documents was released online.

The campaign said that genuine files were mixed up with fake ones in order to confuse people.

It said it was clear that hackers wanted to undermine Mr Macron ahead of Sunday's second round vote.

The centrist will face off against far-right candidate Marine Le Pen.

The documents were leaked on a file sharing website late on Friday and the Macron camp condemned the action just before the official campaigning period ended at midnight (22:00 GMT).

Candidates and the media now face restrictions until the polls close on Sunday evening, meaning Mr Macron cannot issue further statements.

Opinion polls had indicated the former economy minister carried a lead of 20 percentage points or more over Ms Le Pen, the National Front candidate.

Separately it was reported that socialist legislator Corinne Erhel, 50, collapsed while speaking at a rally for Mr Macron in Plouisy, western France, on Friday and later died.

About nine gigabytes of data were posted online by an anonymous user.

Mr Macron's En Marche movement said internal campaign documents, including emails and financial data, had been taken in an "act of massive, co-ordinated hacking".

"The leaked files were obtained several weeks ago by hacking personal and professional email accounts of several officials of the movement," it said in a statement.

The campaign said the documents showed only legitimate campaign activities.

France's election commission warned that publication or republication of the leaked information could be a criminal offence.

The hashtag #MacronLeaks appeared on Twitter on an account used by a US alt-right figure on Friday afternoon - and was reportedly retweeted 87 times in the first five minutes, suggesting the use of automated bots to spread the information faster.

Within 90 minutes, the information had caught the attention of prominent supporters of Marine Le Pen and was further spread by bots.

Some three-and-a-half hours after the initial tweet, #MacronLeaks had been used some 47,000 times and the prominent Wikileaks account played a key role in publicising the hashtag.

That too remains unclear. The Macron camp has not blamed any specific party but said the hack clearly aimed to damage it and undermine French democracy,

It compared it to the leak of Democratic Party emails in last year's US presidential election that was blamed on Russian hackers.

Wikileaks, which published those emails, posted a link to the Macron documents on Twitter but implied it was not responsible.

Mr Macron's team has already been the victim of hacking attacks, for which it has blamed groups based in Russia and Ukraine. It suspects the Kremlin of wanting to help Ms Le Pen, who supports a pro-Moscow foreign policy.

Russia has denied that it is behind attacks aimed at Mr Macron.

On Thursday, the centrist candidate filed a lawsuit over online rumours that he had a secret bank account in the Caribbean.

Mr Macron called the allegations "fake news and lies" and said some of the sites spreading them were "linked to Russian interests".

France's voters have rejected the two big political parties - the Socialists and the Republicans - that have governed for decades.

Voters will be making a decision on France's future direction and on its place at the heart of the European Union.

If they opt for liberal Emmanuel Macron, they will be backing a candidate who seeks EU reform as well as deeper European integration, in the form of a eurozone budget and eurozone finance ministers.

If instead they choose far-right Marine Le Pen she promises quite the opposite. She wants a Europe of nations to replace the EU.

After the Brexit vote in the UK and the election of US President Donald Trump, France is the latest country to deal a blow to politics as usual.

One of the overriding issues facing French voters is unemployment, which stands at almost 10% and is the eighth highest among the 28 EU member states. One in four under-25s is unemployed.

The French economy has made a slow recovery from the 2008 financial crisis and all the leading candidates say deep changes are needed.

Marine Le Pen wants the pension age cut to 60 and to "renationalise French debt", which she argues is largely held by foreigners.

Emmanuel Macron wants to cut 120,000 public-sector jobs, reduce public spending by €60bn (£50bn; $65bn), plough billions into investment and reduce unemployment to below 7%.

What the two candidates want

The election is taking place amid a state of emergency, and the first round took place three days after a policeman was shot dead on the Champs Elysées in the heart of Paris.

Some 50,000 police will be deployed across the country along with 7,000 troops involved in the anti-terror operation begun after the January 2015 Paris attacks, according to French media.

More than 12,000 police and military will be on alert in the Paris area.

The security forces will primarily guard polling stations and will be organised into "dynamic patrols" set to intervene immediately in any incident, Le Figaro newspaper reported.

More than 230 people have died in terror attacks since January 2015 and officials fear more of the hundreds of young French Muslims who travelled to Syria and Iraq may return to commit new atrocities.

Intelligence services believe attackers are deliberately pursuing a Le Pen victory, says the BBC's Hugh Schofield in Paris - because that could tip the country into chaos.

Ms Le Pen wants to suspend the EU's open-border agreement on France's frontiers and expel foreigners who are on the watch lists of intelligence services.

Mr Macron and Ms Le Pen came top of the 11 candidates in total who participated in the first round of voting on 23 April.

While the outcome of Sunday's second round should be clear that evening, the results will be officially proclaimed by France's constitutional council on Thursday, 11 May.

Sunday, 14 May, marks the end of outgoing President François Hollande's term, and is the latest possible date for the inauguration and official transfer of power to his successor.

You can follow the French election on the BBC News website. Click here for all our latest stories.

On the day of the election, we will be running a live page bringing together the latest news, video and analysis.

On TV, you can watch a BBC World News Election Special, from 18:30 BST (17:30 GMT / 19:30 local time in France) on Sunday, which will be broadcast on BBC News in the UK and on BBC World News internationally, with Christian Fraser presenting from Paris.

For radio, BBC World Service will broadcast a special extended edition of Newshour from Paris at 18:00 GMT on Sunday.|||

The French presidential candidate says files have been leaked to damage him ahead of Sunday's vote.