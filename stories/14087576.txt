Alternatively, you can use the manual upgrade process.

You may wish to check the errata page or upgrade to the stable branch to get any post-release fixes.

build system changes. If you intend to build the system from source in the future, you need to fix some permissions: It is recommended that you add users who need to work with the src trees to the group , so that they can still write to . It is best to check out a fresh source tree from an AnonCVS server. If you need to update on top of a pre-existing source tree, you need to do some cleanup first. new mandoc.db(5) format. To update all mandoc.db(5) files to the new format, run: softraid crypto switched to bcrypt PBKDF. New volumes will be created with bcrypt PBKDF, however existing volumes will continue to use PKCS5 PBKDF2 until a passphrase change is made. If you're booting from softraid crypto, ensure that your boot loader has been upgraded to a version that supports bcrypt prior to changing your passphrase. The boot(8) version should be at least 3.33 on amd64 and 3.31 on i386. Also be aware that once the passphrase has been changed, an older version of bioctl(8) (one that does not support bcrypt PBKDF) will not be able to "unlock" the volume. sqlite3 moved back to ports. SQLite has moved from base back to ports. Remove the following files after upgrading the OS and updating the packages, but before building any ports: and users removed. The user and the group have been removed from base. If you use the port, please follow these instructions first. Issue userdel uucp groupdel news rm -rf /var/spool/uucp* # unless you use the net/uucp port uxterm and koi8xterm removed. The and shell scripts have been removed, as xterm(1) on OpenBSD is already set up to support UTF-8: If you edited any configuration files to call , do not forget to change these to call directly. If you defined X resources for UXTerm, consider moving them to XTerm. xdm(1) replaced with xenodm(1). The X Display Manager has been switched to xenodm(1). If you enabled xdm in , you need to update your configuration: If any local configuration change was made to , it should be migrated to the corresponding file. After that the xdm files can be removed:

iked(8): RFC5114 MODP groups removed. Support for the additional modular exponential groups specified in RFC5114 was removed from iked(8). As a result, iked(8) will no longer accept proposals with the MODP2048-256 group (grp24) and thus will not be able to act as a responder for clients running OpenBSD 6.0 or earlier. Therefore the configuration on older installations needs to be changed: select a specific MODP group by adding a line such as to be able to talk to endpoints running newer versions. For example, if the old configuration in iked.conf(5) looked like this: it needs to be amended to look like this: one lo(4) interface per rdomain. A loopback interface is now created by default for every rdomain(4). Much like for rdomain 0, it can be used to see and filter local traffic via bpf(4) and pf(4). If you were previously using an in an rdomain other than , it won't be possible to create rdomain anymore. You need to either use a different lo(4) unit or rdomain(4) number. pkg.conf(5) no longer supported. The tools now use the installurl(5) file to find the main package repository. If you install or upgrade from a mirror, this file is created automatically. Verify that points to your preferred mirror and that the URI does not end in (which may happen due to a bug in the installer). If necessary, please create the file manually with your preferred mirror: Since the pkg.conf(5) file will no longer be used by tools, you may remove it: Use the environment variable in case you need to specify more than one repository. sysctl machdep.lidsuspend renamed to machdep.lidaction. The sysctl variable has been renamed to . Setting it to hibernates the machine when the lid is closed. Update sysctl.conf(5) to use the new name.

Sometimes, you need to do an upgrade of a machine for which the normal upgrade process is not possible. The most common case is a machine in a remote location and there is no easy access to the system console.|||

OpenBSD Upgrade Process for 6.0 -> 6.1