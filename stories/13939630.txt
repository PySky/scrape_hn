+// Copyright 2016 The Go Authors. All rights reserved. +// Use of this source code is governed by a BSD-style +// license that can be found in the LICENSE file. +// Pledge implements the pledge syscall. For more information see pledge(2).

+// Copyright 2016 The Go Authors. All rights reserved. +// Use of this source code is governed by a BSD-style +// license that can be found in the LICENSE file. +// This, on the face of it, bizarre testing mechanism is necessary because +// the only reliable way to gauge whether or not a pledge(2) call has succeeded +// is that the program has been killed as a result of breaking its pledge. + fn func() // should always exit instead of returning +// testCmd generates a proper command that, when executed, runs the test +// corresponding to the given key. + t.Fatalf("Process did not %s when it was supposed to", result) +// For example, add a test for pledge.|||

