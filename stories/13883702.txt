The NetBSD Project is pleased to announce NetBSD 7.1, the first feature update of the NetBSD 7 release branch. It represents a selected subset of fixes deemed important for security or stability reasons, as well as new features and enhancements. Some highlights of the 7.1 release are: Initial DRM/KMS support for NVIDIA graphics cards via nouveau (Disabled by default. Uncomment nouveau and nouveaufb in your kernel config to test). The addition of vioscsi, a driver for the Google Compute Engine disk. Linux compatibility improvements, allowing, e.g., the use of Adobe Flash Player 24. Complete source and binaries for NetBSD 7.1 are available for download at many sites around the world. A list of download sites providing FTP, AnonCVS, SUP, and other services may be found at http://www.NetBSD.org/mirrors/. We encourage users who wish to install via ISO or USB disk images to download via BitTorrent by using the torrent files supplied in the images area. A list of hashes for the NetBSD 7.1 distribution has been signed with the well-connected PGP key for the NetBSD Security Officer: http://ftp.NetBSD.org/pub/NetBSD/security/hashes/NetBSD-7.1_hashes.asc NetBSD is free. All of the code is under non-restrictive licenses, and may be used without paying royalties to anyone. Free support services are available via our mailing lists and website. Commercial support is available from a variety of sources. More extensive information on NetBSD is available from our website:

Changes Between 7.0.2 and 7.1 Below is an abbreviated list of changes in this release. Note that all of the changes found in NetBSD 7.0.1 and NetBSD 7.0.2 are present in this release. The complete list of changes can be found in the CHANGES-7.1 file in the top level directory of the NetBSD 7.1 release tree. The following security advisories were fixed: Note: Advisories prior to NetBSD-SA2017-001 do not affect NetBSD 7.0.2. carp(4): Fix an issue in mixed IPv4/IPv6 environments where a carp interface tries to get MASTER status even though the master is still advertising. In kernel configuration files, it is now possible to specify a wedge name (e.g., "wedge:NAME") as a root device. IPFilter: Fix matching of ICMP queries when NAT'd through IPF. Fix lookup of original destination address when using a redirect rule. This is required for transparent proxying by squid, for example. ipsec(4): Fix NAT-T issue with NetBSD being the host behind NAT. procfs: Maps don't change that frequently between reads, so allow reading from an offset. Notably, this makes the Linux Flash player 24 work. ichlpcib(4): Disable gpio(4) attachment by default, fixing resume for some machines. GPIO functionality can be enabled by setting ichlpcib_gpio_disable to 0, for instance with "gdb -write". PR 50733. sdtemp(4): Add support for Atmel AT30TS00, AT30TSE004, Giantec GT30TS00, GT34TS02, Microchip MCP9804, MCP98244, IDT TS3000GB[02], TS3001GB2, TSE2004GB2, On Semiconductor CAT34TS02C and CAT34TS04. ucom(4): Add the port number to the device properties to make it easier to relate a specific ucom instance with the physical port of multi-port devices like the FTDI 4232. wd(4): Put the drive in standby before detach when powering off the system. PR 51252. wm(4): Fix a lot of bugs to make 82575 and newer SERDES based systems work. Fix a bug where the input drop packet counter is not counted correctly. Fix a problem where I210 and I211 sometimes don't have a link if the NVM image version is less than 3.25. Fix a problem where 82574 and 82583 sometimes drop packets if the NVM image version is less than 2.1.4. Fix a bug where some Intel AMT based systems don't linkup at 1000BaseT. PR 44893. Improve the behavior of suspend/resume on 82544 and newer chips. macppc: adb(4): Ask the keyboard to distinguish between left and right Control, Alt, and Shift keys. sandpoint: altboot: Correctly identify and power up a second disk on the same SATA channel. Fix misdetection of LinkStation and KuroBox(HG) as KuroT4. x86 (amd64, i386): Add initial DRM/KMS support for NVIDIA graphics cards via nouveau. Disabled by default, but can be enabled by uncommenting the nouveau and nouveaufb drivers in the GENERIC kernel config file, building a new kernel, and configuring X to use the nouveau driver instead of nv. procfs: Always output 2 digits for the CPU frequency decimal part. Numerous improvements to make /proc/cpuinfo more informative and accurate. PRs 49246 and 39950. xen: Make Xen process and file limits match the native ones. cat(1): When invoked with -se, print a '$' on blank lines. PR 51250. cp(1): Make the '-i' flag work regardless of whether the standard input is a terminal. dump(8): Default the read block size for dump to kern.maxphys. This gives a noticable performance boost on large filesystems. ftp(1): Fix crash in ftp when given an IPv6 URL that's missing a slash. PR 51558. Use the proper format "[IPv6 address]:port" when reporting connection attempts to IPv6 endpoints. getpass(3): Fix a bug where ctrl-c in a password prompt resulted in tty settings not being restored. PR 50695. iostat(8): Support fnmatch(3) patterns for disknames. For example, "iostat wd*" works now. ld.elf_so(1): Add basic support for indirect functions. It allows providing a public function symbol with an implementation choosen at run time. opendisk(3): Instead of trying to open files in the current working directory first for paths that don't contain "/", first try the /dev paths to avoid confusion with files in the working directory that happen to match disk names. PR 51216. racoon(8): Allow using IKE Mode Config in a plain "rsasig" (signed certificates only) configurations. scsictl(8): Add "getrealloc" and "setrealloc" commands to get/set automatic reallocation parameters/enables for error recovery, similar to {get,set}cache. sh(1): Fix the parsing of references to shell parameters when given without braces (i.e., $2). Only the first 9 shell parameters ($1 .. $9) and the special parameter ($0) can be referenced this way, $10 is ${1}0 not ${10}. PR 51027 . Process pending signals while waiting for a job, and report the signal that wait was interrupted by. stdio(3): Allow changing the default buffering policy for a stdio stream during construction by setting environment variables. See setbuf(3). zic(8): Backport changes from newer tzcode to allow proper parsing of newer tzdata files.

The NetBSD Foundation would like to thank all those who have contributed code, hardware, documentation, funds, colocation for our servers, web pages and other documentation, release engineering, and other resources over the years. More information on the people who make NetBSD happen is available at: We would like to especially thank the University of California at Berkeley and the GNU Project for particularly large subsets of code that we use. We would also like to thank the Internet Systems Consortium Inc. and the Network Security Lab at Columbia University's Computer Science Department for current colocation services.

NetBSD is a free, fast, secure, and highly portable Unix-like Open Source operating system. It is available for a wide range of platforms, from large-scale servers and powerful desktop systems to handheld and embedded devices. Its clean design and advanced features make it excellent for use in both production and research environments, and the source code is freely available under a business-friendly license. NetBSD is developed and supported by a large and vibrant international community. Many applications are readily available through pkgsrc, the NetBSD Packages Collection.

The NetBSD Foundation was chartered in 1995, with the task of overseeing core NetBSD project services, promoting the project within industry and the open source community, and holding intellectual property rights on much of the NetBSD code base. Day-to-day operations of the project are handled by volunteers. As a non-profit organization with no commercial backing, the NetBSD Foundation depends on donations from its users, and we would like to ask you to consider making a donation to the NetBSD Foundation in support of continuing production of our fine operating system. Your generous donation would be particularly welcome to help with ongoing upgrades and maintenance, as well as with operating expenses for the NetBSD Foundation. Donations can be done via PayPal to , or via Google Checkout and are fully tax-deductible in the US. See http://www.NetBSD.org/donations/ for more information, or contact directly.|||

