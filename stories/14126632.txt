I made a mess of opening the bottom of the Totoro as I didn't realize there was a large chunk of resin in the bottom (for stability). However, I ended up with a nice hole through which it's possible to connect a USB cable for reprogramming the NodeMCU.

And here's Totoro checking the weather (flashing green) and finding that it's nothing special (goes black).

Regular readers may know that I likedevices: devices that fit into the environment unobtrusively and provide information at a glance. One such device is my bus monitor that shows times of buses at the stop near my house.Recently I decided to solve the problem of answering the question "Do I need an umbrella?" when I leave the house. For this I chose to use an ESP8266 in the form of a NodeMCU running Lua and display the coming weather by illuminating the eyes on a small Totoro figure.This was my first NodeMCU/ESP8266 project and there's definitely a bit of a learning curve. I ended up using luatool to upload my Lua code to the device, and esptool to flash the firmware using a custom firmware build from this wonderful website with the following modules present: cjson wifi , and ws2812 The first step was to prise open the Totoro figure and then drill out the eyes so that two LEDs cut from a NeoPixel strip could be hot glued in place.The rear part of the Totoro contains the NodeMCU with just five wire connections: power, ground and data to the NeoPixel strip, and a pig tail to supply power through a hole drilled in the back (5V from an old wall wart I had lying around is fed straight to Vin and GND on the NodeMCU).I used heat shrink tubing to insulate the connections so that there aren't any inadvertent short circuits when the Totoro is closed.The code that runs Totoro is here . It uses the Met Office's DataPoint API to get the weather forecast for a location in the UK. You'll need to register there for an API key and figure out the location you want to get weather for from the Met Office data. As coded it gets the weather forecast for a maximum 6 hour period (two 3 hour forecasts) and figures out the worst weather to happen during that time.The configuration for the Totoro is all in totoro-config.lua where you'll fill in the weather location, API key and the credentials for the WiFi network you want your Totoro to connect to.The Totoro conveys the following with its eyes:|||

