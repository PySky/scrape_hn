Being the first mover in establishing a new technology in the enterprise is important, but it is not more important than having a vast installed base and sales force peddling an existing and adjacent product set in which to sell a competing and usually lagging technology.

VMware can’t be said to have initially been particularly enthusiastic about server-SAN hybrids like those created by upstart Nutanix, with its Acropolis platform, or pioneer Hewlett Packard Enterprise, which bought into the virtual SAN market with its LeftHand Networks acquisition in October 2008 for $360 million and went back to the hyperconverged well again this January with its $650 million deal to acquire SimpliVity. It had a baby Virtual SAN Array, launched in July 2011, that was capped at three nodes and limited features for several years, but with the Virtual SAN launch in early 2015, VMware got serious because there are billions of dollars of profitable compute and storage revenues at stake in the hyperconverged arena.

VMware took a long time to come to virtual storage arrays that mashed up compute and storage onto the same clusters – vSAN was in private beta in 2012 and moved to a very successful but very lengthy public beta in August 2013. And VMware has also taken its sweet time scaling up vSAN capacity and performance, and no doubt partly because its former parent company, EMC, minted coin selling actual physical SANs. But here in 2017, VMware is aggressively pushing vSAN.

Back in February 2016, when VMware tweaked the vSAN stack, it had 3,000 customers that had deployed its server-storage hybrid in production, and as of the end of 2016, it had grown that based to over 7,000 customers. About half of VMware’s 500,000 customers using its vSphere server virtualization stack are using its vSphere Enterprise Plus edition, so these are the natural target customers for vSAN. Not all of them need virtual SANs with hundreds of terabytes or petabytes of scale, of course, but there are probably many tens of thousands of customers who do, and this will drive vSAN sales upwards and, perhaps equally importantly, drive software-defined storage sales on X86 servers and take a bite out of the actual SAN market and, in all-flash configurations, also take a slice of the all-flash arrays that are one of the bright spots in enterprise storage these days.

Hyperconverged infrastructure, or HCI as the cool kids call it, generated about $2 billion in revenues in 2016, and is expected to grow to just shy of $5 billion in 2019, according to statistics from IDC – and every time these projections are updated, they grow bigger. The analysts at Gartner reckon that software-defined storage, in its many guises, accounts for about 5 percent of capacity shipped worldwide today, but will grow to about 30 percent of capacity by 2019. The overall storage market, internal and external disk and flash of all kinds, generates around $60 billion in revenues today, just for comparison’s sake.

In the fourth quarter of 2016, the latest financial figures we have for VMware at the moment, the vSAN software was selling at an annualized run rate of $300 million, Michael Haag, group product marketing manager for VMware’s storage and availability portfolio, tells The Next Platform, and it has been growing at 150 percent for five consecutive quarters.

Haag says that the underlying hardware (and we presume related vSphere systems software) has a 3X multiple cost compared to the vSAN licenses and support costs, which is another way of saying that vSAN represents about 25 percent of the total cost. So the run rate for vSAN-based HCI platforms was around $1.2 billion as 2016 was closing out. If you do the math, those incremental 4,000 customers spent $720 million on vSAN systems in 2016, and if the growth rates persist, VMware will add another 10,500 customers in 2017 and they will spend an incremental $1.8 billion on vSAN storage. At that point, assuming VMware can manage 150 percent growth for this year for vSAN licensing, which is possible given the vastness of its customer base, then vSAN licensing and support should be at a run rate of around $750 million as 2017 comes to a close and total spending on vSAN arrays for the year should be around $1.8 billion.

“vSAN is becoming a significant business for VMware,” says Haag. “If were a standalone and a startup, we would be doing cartwheels and extremely happy.”

This is still dwarfed by VMware’s overall business, which grew by 7.9 percent to $7.1 billion for all of 2016; the company pulled $1.2 billion of that down to the bottom line, and increase of 19 percent compared to 2015.

One of the big drivers for HCI is, not surprisingly, technology. Storage appliances, like the SAN arrays of days going by (but not quite gone, mind you), tend to lag in the adoption of new CPUs, memory, non-volatile storage, and even disk drives. But because HCI platforms are based on plain vanilla X86 servers, and servers always get the latest technology first, that means by default that HCI platforms get the technology first, too. It is up to the HCI software vendors to embrace this new stuff, and VMware and its peers are getting better about this, and Haag says that VMware’s vSAN will support Intel’s Optane 3D XPoint non-volatile memory on day one when it is available later this year in volume.

The other big driver for HCI is just the fact that it is getting more mainstream, and surveys of VMware customers show that over 60 percent of enterprises have deployed some mission critical applications on hyperconverged platforms. In the early days, this was mainly virtual desktop infrastructure (VDI) and test and development jobs, but now companies are trusting vSAN for the big jobs. It is because vSAN scales better and incorporates flash for caching and for primary storage as well as adding compression, de-duplication, and erasure coding to drive down trhe cost of the all-flash variants that customers can even afford to do this. The vSAN 5.5 release in early 2015 got the ball rolling, and the all-flash 6.2 release kicked it into the air. With the 6.6 release that came out this month, VMware is boosting performance, scaling out clusters for capacity and performance, and embedding native security in vSAN.

The 6.6 update has more than twenty major new features and is being billed as the biggest vSAN release to date. One operational change is that vSAN, which is very tightly coupled to the ESXI hypervisor, has been updated twice a year with the vSphere releases. But going forward, vSAN updates will be available as part of the monthly vSphere patches, significantly speeding up the time it takes to get new features into the field for the server-storage hybrid.

The vSAN Enterprise edition has two important new features. The first is native encryption, which can be deployed on all-flash or hybrid flash-disk variants of vSAN, and which encrypts data at the cluster level, not at the individual drive level. The self-encrypting drives carry a 20 percent to 30 percent premium over plain flash or disk drives, and each one has to have its own key for encryption and these have to be managed individually, too. Now, you need just one key for the vSAN cluster and the encryption is done across the nodes in the cluster and using the AES-256 encryption acceleration features of Intel’s Xeon processors.

VMware has been offering stretched clusters for a little while, but are being enhanced with local protection within the cluster and within a datacenter as well as replication across sites. With this enhanced stretched cluster, there are two vSAN clusters linked over two sites in an active-active configuration, serving up applications running inside of VMs. Data is synchronously replicated across the sites. As data comes out of a VM, it is replicated with RAID 1 mirroring between the two sites, but now within those two sites, customers can fire up RAID 5 or RAID 6 data protection within the nodes of the cluster to add another layer of data protection across the active-active clusters. What this means is that if one of the sites is knocked off line and then nodes within the second cluster start failing, there will be further replication to keep it up and running. This stretched cluster replication, by the way, is enabled on a per-VM basis, so you don’t have to replicate your entire vSAN cluster.

On the performance front, on like for like hardware, VMware has tuned up vSAN with the 6.6 release to offer about 50 percent better I/O operations per second throughput on all flash setups compared to vSAN 6.5 from last fall. VMware tweaked the underlying algorithms used for de-duplication, checksum, and other features to get this added performance. The upshot of these changes was that latencies for IOPS were also reduced by somewhere between 30 percent and 40 percent, too.

VMware is supporting larger 1.6 TB flash drives for caching in vSAN clusters, and is looking ahead to supporting Optane SSDs, which it says will increase sequential write performance on vSAN clusters by 250 percent compared to using flash cache.

In addition to the new features with vSAN 6.6, VMware is also doing a bunch of bundles, as shown above, that prepackage the vSphere and vSAN software for specific use cases. The prices shown above are for list price for the components; there is no discount for buying the vSphere and vSAN tools together. But you should probably argue for one just the same.|||

Being the first mover in establishing a new technology in the enterprise is important, but it is not more important than having a vast installed base and s